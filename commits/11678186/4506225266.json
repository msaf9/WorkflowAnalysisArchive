[{"filename": "lib/Target/HSACO/HSACOTranslation.cpp", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "file_content_changes": "@@ -112,15 +112,14 @@ std::string generate_hsaco(llvm::Module *module, const std::string &triple,\n                            const std::string &features) {\n   auto machine = initialize_module(module, triple, proc, features);\n \n+  // create dir for binary and hsaco\n   std::error_code ec;\n   std::string kernel_name = std::to_string(New64());\n-  std::string kernel_dir =\n-      std::filesystem::temp_directory_path().string() + kernel_name;\n   llvm::SmallString<256> kernel_dir_unique;\n-  ec = llvm::sys::fs::createUniqueDirectory(kernel_dir, kernel_dir_unique);\n+  ec = llvm::sys::fs::createUniqueDirectory(std::filesystem::temp_directory_path().string(), kernel_dir_unique);\n   if (ec) {\n-    std::cerr << kernel_dir << \" was not created. error code: \" << ec\n-              << std::endl;\n+    std::cerr << \"Directory for \" << kernel_name\n+              << \" was not created. error code: \" << ec << std::endl;\n   }\n \n   // Save GCN ISA binary."}]