[{"filename": "lib/Analysis/Utility.cpp", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "file_content_changes": "@@ -476,6 +476,8 @@ struct DFSState {\n   /// We mark each op as ready if all its operands and parents ops are seen. If\n   /// an op is ready, we add it to the queue. Otherwise, we keep adding its\n   /// operands to the ancestors set.\n+  /// We always want an op to be scheduled after all its parents to handle\n+  /// correctly cases with scf operations.\n   void addToReadyQueue(Operation *op, DFSSubgraphState &subGraph,\n                        SmallVector<Operation *, 4> &readyQueue) {\n     bool ready = true;"}]