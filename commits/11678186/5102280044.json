[{"filename": "lib/Dialect/TritonGPU/Transforms/AccelerateMatmul.cpp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "file_content_changes": "@@ -49,7 +49,7 @@ SmallVector<unsigned, 2> warpsPerTileV2(triton::DotOp dotOp,\n   };\n   auto slices = mlir::getSlice(dotOp, filter);\n   for (Operation *op : slices)\n-    if (isa<triton::ReduceOp>(op))\n+    if (isa<triton::DotOp>(op) && (op != dotOp))\n       return {(unsigned)numWarps, 1};\n \n   SmallVector<unsigned, 2> ret = {1, 1};"}]