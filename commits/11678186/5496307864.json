[{"filename": "python/test/unit/language/test_core.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "file_content_changes": "@@ -2086,7 +2086,7 @@ def kernel(X, stride_xm, stride_xk,\n                          CHAIN_DOT=epilogue == 'chain-dot',\n                          ALLOW_TF32=allow_tf32,\n                          num_warps=num_warps)\n-    if epilogue == 'softmax':\n+    if epilogue == 'softmax' and (in_dtype != 'float32' or allow_tf32):\n         ptx = pgm.asm[\"ptx\"]\n         start = ptx.find(\"shfl.sync\")\n         end = ptx.find(\"cvt.rn.f16.f32\")"}]