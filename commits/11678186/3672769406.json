[{"filename": "python/src/triton.cc", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "file_content_changes": "@@ -120,6 +120,7 @@ void init_triton_ir(py::module &&m) {\n         // some placeholders\n         self.getOrLoadDialect<mlir::triton::TritonDialect>();\n         self.getOrLoadDialect<mlir::LLVM::LLVMDialect>();\n+        self.getOrLoadDialect<mlir::gpu::GPUDialect>();\n       });\n   // .def(py::init([](){\n   //   mlir::MLIRContext context;\n@@ -1265,7 +1266,13 @@ void init_triton_ir(py::module &&m) {\n            [](mlir::OpBuilder &self, mlir::Type &type) -> mlir::Value {\n              auto loc = self.getUnknownLoc();\n              return self.create<::mlir::LLVM::UndefOp>(loc, type);\n-           });\n+           })\n+     // Force GPU barrier\n+     .def(\"create_barrier\",\n+          [](mlir::OpBuilder &self) {\n+            auto loc = self.getUnknownLoc();\n+            self.create<mlir::gpu::BarrierOp>(loc);\n+          });\n \n   py::class_<mlir::PassManager>(m, \"pass_manager\")\n       .def(py::init<mlir::MLIRContext *>())"}, {"filename": "python/triton/language/semantic.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "file_content_changes": "@@ -1139,7 +1139,7 @@ def max_contiguous(x: tl.tensor, values: List[int]) -> tl.tensor:\n \n \n def debug_barrier(builder: ir.builder) -> tl.tensor:\n-    return tl.tensor(builder.create_barrier(''), tl.void)\n+    return tl.tensor(builder.create_barrier(), tl.void)\n \n \n def printf(prefix: str, args: List[tl.tensor], builder: ir.builder) -> tl.tensor:"}]