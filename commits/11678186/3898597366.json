[{"filename": "lib/Dialect/TritonGPU/Transforms/UpdateMmaForVolta.cpp", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "file_content_changes": "@@ -79,11 +79,12 @@ class CollectMmaToUpdateForVolta : public mlir::RewritePattern {\n \n       // Recalculate the wpt, for here we could get the latest information, the\n       // wpt should be updated.\n-      auto newWpt =\n-          MmaEncodingAttr::_mmaV1UpdateWpt\n-              ? getWarpsPerCTA(DT.getShape(), isARow_, isBRow_, isAVec4_,\n-                               isBVec4_, product(mmaLayout.getWarpsPerCTA()))\n-              : mmaLayout.getWarpsPerCTA();\n+      auto updatedWpt =\n+          getWarpsPerCTA(DT.getShape(), isARow_, isBRow_, isAVec4_, isBVec4_,\n+                         product(mmaLayout.getWarpsPerCTA()));\n+      auto newWpt = MmaEncodingAttr::_mmaV1UpdateWpt\n+                        ? updatedWpt\n+                        : mmaLayout.getWarpsPerCTA();\n       newMmaLayout = MmaEncodingAttr::get(ctx, mmaLayout.getVersionMajor(),\n                                           newWpt, AT.getShape(), BT.getShape(),\n                                           isARow, isBRow, mmaId);"}]