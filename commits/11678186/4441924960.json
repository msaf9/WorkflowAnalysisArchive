[{"filename": "lib/Dialect/Triton/IR/Ops.cpp", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "file_content_changes": "@@ -350,7 +350,11 @@ static OpFoldResult foldViewLikeOp(ViewLikeOp op, Attribute value) {\n \n   auto shapedType = op.getType().template cast<mlir::ShapedType>();\n   if (auto denseElemsAttr = value.dyn_cast<DenseElementsAttr>()) {\n-    return denseElemsAttr.reshape(shapedType);\n+    if (denseElemsAttr.isSplat()) {\n+      return denseElemsAttr.resizeSplat(shapedType);\n+    } else {\n+      return denseElemsAttr.reshape(shapedType);\n+    }\n   }\n   return {};\n }\n@@ -415,7 +419,7 @@ OpFoldResult BroadcastOp::fold(FoldAdaptor adaptor) {\n \n   if (auto denseElemsAttr = value.dyn_cast<SplatElementsAttr>()) {\n     auto shapedType = getType().cast<ShapedType>();\n-    return denseElemsAttr.reshape(shapedType);\n+    return denseElemsAttr.resizeSplat(shapedType);\n   }\n   return {};\n }"}]