[{"filename": "lib/Conversion/TritonGPUToLLVM/TritonGPUToLLVMPass.cpp", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "file_content_changes": "@@ -120,12 +120,10 @@ struct FuncOpConversion : public FuncOpConversionBase {\n     // Set an attribute to indicate this function is a kernel entry.\n     newFuncOp->setAttr(\"nvvm.kernel\",\n                        rewriter.getIntegerAttr(type::u1Ty(ctx), 1));\n-    // if (!isROCM()) {\n+\n     // Set an attribute for maxntidx, it could be used in latter LLVM codegen\n     // for `nvvm.annotation` metadata.\n-    newFuncOp->setAttr(\"nvvm.maxntid\",\n-                        rewriter.getIntegerAttr(i32_ty, 32 * numWarps));\n-    // }\n+    newFuncOp->setAttr(\"nvvm.maxntid\", rewriter.getI32ArrayAttr(32 * numWarps));\n \n     rewriter.eraseOp(funcOp);\n     return success();"}]