[{"filename": "include/triton/Dialect/TritonGPU/IR/TritonGPUAttrDefs.td", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "file_content_changes": "@@ -169,6 +169,7 @@ for\n         int dim = order[_dim];\n         int maxNumThreads = int(shape[dim]) / sizePerThread[dim];\n         warpsPerCTA[dim] = std::clamp(remainingWarps, 1, maxNumThreads);\n+        maxNumThreads = maxNumThreads / warpsPerCTA[dim];\n         threadsPerWarp[dim] = std::clamp(remainingLanes, 1, maxNumThreads);\n         remainingWarps /= warpsPerCTA[dim];\n         remainingLanes /= threadsPerWarp[dim];"}]