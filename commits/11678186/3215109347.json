[{"filename": "CMakeLists.txt", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "file_content_changes": "@@ -132,9 +132,18 @@ include_directories(${LLVM_INCLUDE_DIRS})\n # Python module\n if(TRITON_BUILD_PYTHON_MODULE)\n     message(STATUS \"Adding Python module\")\n-    set(PYTHON_SRC_PATH ${CMAKE_CURRENT_SOURCE_DIR}/python/src)\n-    include_directories(\".\" ${PYTHON_SRC_PATH} ${PYTHON_INCLUDE_DIRS})\n-    link_directories(${PYTHON_LINK_DIRS})\n+    if (PYTHON_INCLUDE_DIRS)\n+      set(PYTHON_SRC_PATH ${CMAKE_CURRENT_SOURCE_DIR}/python/src)\n+      include_directories(\".\" ${PYTHON_SRC_PATH} ${PYTHON_INCLUDE_DIRS})\n+      link_directories(${PYTHON_LINK_DIRS})\n+    else()\n+      find_package(Python3 REQUIRED COMPONENTS Development)\n+      set(PYTHON_SRC_PATH ${CMAKE_CURRENT_SOURCE_DIR}/python/src)\n+      include_directories(\".\" ${PYTHON_SRC_PATH} ${Python3_INCLUDE_DIRS})\n+      link_directories(${Python3_LIBRARY_DIRS})\n+      link_libraries(${Python3_LIBRARIES})\n+      add_link_options(${Python3_LINK_OPTIONS})\n+    endif()\n     set(PYTHON_SRC ${PYTHON_SRC_PATH}/main.cc ${PYTHON_SRC_PATH}/triton.cc)\n endif()\n "}]