[{"filename": "lib/Analysis/Membar.cpp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "file_content_changes": "@@ -86,10 +86,11 @@ void MembarAnalysis::transfer(Operation *op, RegionInfo *regionInfo,\n       curRegionInfo.syncWriteBuffers.insert(bufferId);\n     }\n   }\n-  // Scratch buffer is considered as a shared memory write\n+  // Scratch buffer is considered as both shared memory write & read\n   auto bufferId = allocation->getBufferId(op);\n   if (bufferId != Allocation::InvalidBufferId) {\n     curRegionInfo.syncWriteBuffers.insert(bufferId);\n+    curRegionInfo.syncReadBuffers.insert(bufferId);\n   }\n \n   if (regionInfo->isIntersected(curRegionInfo, allocation)) {"}]