[{"filename": "python/triton/compiler.py", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "file_content_changes": "@@ -1107,6 +1107,12 @@ def libcuda_dirs():\n     return [os.path.dirname(loc) for loc in locs]\n \n \n+@functools.lru_cache()\n+def cuda_home_dirs():\n+    default_dir = \"/usr/local/cuda\"\n+    return os.getenv(\"CUDA_HOME\", default=default_dir)\n+\n+\n @contextlib.contextmanager\n def quiet():\n     old_stdout, old_stderr = sys.stdout, sys.stderr\n@@ -1119,7 +1125,7 @@ def quiet():\n \n def _build(name, src, srcdir):\n     cuda_lib_dirs = libcuda_dirs()\n-    cu_include_dir = \"/usr/local/cuda/include\"\n+    cu_include_dir = os.path.join(cuda_home_dirs(), \"include\")\n     suffix = sysconfig.get_config_var('EXT_SUFFIX')\n     so = os.path.join(srcdir, '{name}{suffix}'.format(name=name, suffix=suffix))\n     # try to avoid setuptools if possible"}]