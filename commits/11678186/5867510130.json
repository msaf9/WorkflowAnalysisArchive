[{"filename": ".github/workflows/integration-tests.yml", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "file_content_changes": "@@ -52,6 +52,7 @@ jobs:\n           echo \"BACKEND=CUDA\" >> \"${GITHUB_ENV}\"\n           echo \"ENABLE_TMA=0\" >> \"${GITHUB_ENV}\"\n           echo \"ENABLE_MMA_V3=0\" >> \"${GITHUB_ENV}\"\n+          echo \"TRITON_DISABLE_LINE_INFO=1\" >> \"${GITHUB_ENV}\"\n \n       - name: Clear cache\n         run: |\n@@ -91,17 +92,21 @@ jobs:\n         if: ${{ env.BACKEND == 'CUDA' && env.ENABLE_TMA == '1' && env.ENABLE_MMA_V3 == '1'}}\n         run: |\n           cd python/test/unit\n-          python3 -m pytest -n 8 --ignore=runtime\n+          python3 -m pytest -n 8 --ignore=runtime --ignore=language/test_line_info.py\n           # run runtime tests serially to avoid race condition with cache handling.\n           python3 -m pytest runtime/\n+          # run test_line_info.py separately with TRITON_DISABLE_LINE_INFO=0\n+          TRITON_DISABLE_LINE_INFO=0 python3 -m pytest language/test_line_info.py\n \n       - name: Run python tests on CUDA with ENABLE_TMA=0 and ENABLE_MMA_V3=0\n         if: ${{ env.BACKEND == 'CUDA' && env.ENABLE_TMA == '0' && env.ENABLE_MMA_V3 == '0'}}\n         run: |\n           cd python/test/unit\n-          python3 -m pytest -n 8 --ignore=runtime --ignore=hopper\n+          python3 -m pytest -n 8 --ignore=runtime --ignore=hopper --ignore=language/test_line_info.py\n           # run runtime tests serially to avoid race condition with cache handling.\n           python3 -m pytest runtime/\n+          # run test_line_info.py separately with TRITON_DISABLE_LINE_INFO=0\n+          TRITON_DISABLE_LINE_INFO=0 python3 -m pytest language/test_line_info.py\n \n       - name: Create artifacts archive\n         if: ${{(matrix.runner[0] == 'self-hosted') && (matrix.runner[1] == 'V100' || matrix.runner[1] == 'A100' || matrix.runner[1] == 'H100')}}"}, {"filename": "lib/Analysis/AxisInfo.cpp", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "file_content_changes": "@@ -667,14 +667,10 @@ class SelectOpAxisInfoVisitor final : public AxisInfoVisitorImpl<OpTy> {\n   AxisInfo\n   getAxisInfo(OpTy op,\n               ArrayRef<const dataflow::Lattice<AxisInfo> *> operands) override {\n-    auto resTy = op.getResult().getType().template dyn_cast<RankedTensorType>();\n-    if (!resTy)\n-      return AxisInfo();\n-    auto shape = resTy.getShape();\n-    auto rank = shape.size();\n     auto condConstancy = operands[0]->getValue().getConstancy();\n     auto lhsInfo = operands[1]->getValue();\n     auto rhsInfo = operands[2]->getValue();\n+    auto rank = lhsInfo.getRank();\n \n     AxisInfo::DimVectorT contiguity, divisibility, constancy;\n     std::optional<int64_t> constantValue;"}, {"filename": "python/test/kernel_comparison/kernels.yml", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "file_content_changes": "@@ -1,31 +1,33 @@\n name_and_extension:\n-  - name: _kernel_0d1d2d34567c89c1011c\n+  - name: _kernel_0d1d2d3de4de5de6c7de8de9c10de11c\n     extension: ptx\n-  - name: _kernel_0d1d2d3d4d5d6d7c8d9c10d11c\n+  - name: _kernel_0d1d2d3de4de5de6de7c8de9c10de11c\n     extension: ptx\n-  - name: _kernel_0d1d2d3d4d5d6d7c8c9d10d11c\n+  - name: _kernel_0d1d2d345de6c789c1011c\n     extension: ptx\n   - name: _kernel_0d1d2d3456c789c1011c\n     extension: ptx\n-  - name: _kernel_0d1d2d345d6d7c8c9d1011c\n+  - name: _kernel_0d1d2d3de4de5de6c7de8c9de10de11c\n     extension: ptx\n   - name: _kernel_0d1d2d34567c8c91011c\n     extension: ptx\n   - name: _kernel_0d1d2d3456c78c91011c\n     extension: ptx\n-  - name: _kernel_0d1d2d345d6c78c9d1011c\n+  - name: _kernel_0d1d2d3de4de5de6de7c8c9de10de11c\n+    extension: ptx\n+  - name: _kernel_0d1d2d34567c89c1011c\n     extension: ptx\n-  - name: _kernel_0d1d2d345d6c789c1011c\n+  - name: _kernel_0d1d2d345de6de7c89c1011c\n     extension: ptx\n-  - name: _kernel_0d1d2d3d4d5d6c7d8d9c10d11c\n+  - name: _kernel_0d1d2d345de6de7c8c9de1011c\n     extension: ptx\n-  - name: _kernel_0d1d2d3d4d5d6c7d8c9d10d11c\n+  - name: kernel_0d1d2de\n     extension: ptx\n-  - name: _kernel_0d1d2d345d6d7c89c1011c\n+  - name: _kernel_0d1d2d345de6c78c9de1011c\n     extension: ptx\n-  - name: _bwd_kernel_0d1d2d34d5d6d7d8d9d10d11d12d13d14d15d16c17d18d19d20c21d22d23d24c2526d27d\n+  - name: _bwd_kernel_0d1d2d34d5d6d7d8d9d10d11de12de13de14de15c16de17de18de19c20de21de22de23c2425de26de\n     extension: ptx\n-  - name: _fwd_kernel_0d1d2d34d5d6d7d8d9d10c11d12d13d14c15d16d17d18c19d20d21d22c2324d25d\n+  - name: _fwd_kernel_0d1d2d34d5d6de7de8de9c10de11de12de13c14de15de16de17c18de19de20de21c2223de24de\n     extension: ptx\n-  - name: _bwd_preprocess_0d1d2d3d4d\n+  - name: _bwd_preprocess_0d1d2d\n     extension: ptx"}]