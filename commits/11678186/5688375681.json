[{"filename": "python/triton/compiler/compiler.py", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "file_content_changes": "@@ -302,6 +302,10 @@ def compile(fn, **kwargs):\n         add_cuda_stages(arch, context, num_warps, num_stages, extern_libs, stages)\n     elif is_hip():\n         _device_backend.add_stages(arch, extern_libs, stages, context=context, num_warps=num_warps, num_stages=num_stages)\n+    elif device_type == \"xpu\":\n+        stages[\"ttgir\"] = (lambda path: parse_mlir_module(path, context),\n+                           lambda src: optimize_ttgir(ttir_to_ttgir(src, num_warps), num_stages, arch))\n+        _device_backend.add_stages(arch, extern_libs, stages)\n     else:\n         _device_backend.add_stages(arch, extern_libs, stages)\n "}]