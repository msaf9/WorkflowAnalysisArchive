[{"filename": "CMakeLists.txt", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "file_content_changes": "@@ -238,6 +238,12 @@ if(TRITON_BUILD_PYTHON_MODULE)\n   target_link_options(triton PRIVATE ${LLVM_LDFLAGS})\n endif()\n \n+if (APPLE)\n+  set(CMAKE_SHARED_LINKER_FLAGS \"${CMAKE_SHARED_LINKER_FLAGS} -Wl,-fvisibility=hidden\")\n+else()\n+  set(CMAKE_SHARED_LINKER_FLAGS \"${CMAKE_SHARED_LINKER_FLAGS} -Wl,--exclude-libs,ALL\")\n+endif()\n+\n if(TRITON_BUILD_PYTHON_MODULE AND NOT WIN32)\n     set(CMAKE_SHARED_LIBRARY_SUFFIX \".so\")\n     # Check if the platform is MacOS"}]