[{"filename": "lib/Dialect/TritonGPU/Transforms/Pipeline.cpp", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "file_content_changes": "@@ -173,6 +173,8 @@ LogicalResult LoopPipeliner::initialize() {\n     if (auto loadOp = dyn_cast<triton::LoadOp>(&op)) {\n       auto ptr = loadOp.getPtr();\n       unsigned vec = axisInfoAnalysis->getPtrContiguity(ptr);\n+      if (auto mask = loadOp.getMask())\n+        vec = std::min<unsigned>(vec, axisInfoAnalysis->getMaskAlignment(mask));\n       auto tensorTy = ptr.getType().dyn_cast<RankedTensorType>();\n       if (!tensorTy)\n         continue;"}]