[{"filename": ".github/workflows/compare-artifacts.yml", "status": "modified", "additions": 39, "deletions": 2, "changes": 41, "file_content_changes": "@@ -9,7 +9,44 @@ on:\n jobs:\n   Compare-artifacts:\n     runs-on: ubuntu-latest\n+    if: ${{ github.event.workflow_run.conclusion == 'success' }}\n \n     steps:\n-      - name: Echo\n-        run: echo \"Testing new workflow\"\n+      - name: 'Download artifact'\n+        uses: actions/github-script@v6\n+        with:\n+          script: |\n+            let allArtifacts = await github.rest.actions.listWorkflowRunArtifacts({\n+               owner: context.repo.owner,\n+               repo: context.repo.repo,\n+               run_id: context.payload.workflow_run.id,\n+            });\n+            let matchArtifact = allArtifacts.data.artifacts.filter((artifact) => {\n+              return artifact.name == \"pr_number\"\n+            })[0];\n+            let download = await github.rest.actions.downloadArtifact({\n+               owner: context.repo.owner,\n+               repo: context.repo.repo,\n+               artifact_id: matchArtifact.id,\n+               archive_format: 'zip',\n+            });\n+            let fs = require('fs');\n+            fs.writeFileSync(`${process.env.GITHUB_WORKSPACE}/pr_number.zip`, Buffer.from(download.data));\n+\n+      - name: 'Unzip artifact'\n+        run: unzip pr_number.zip\n+\n+      - name: 'Comment on PR'\n+        uses: actions/github-script@v6\n+        with:\n+          github-token: ${{ secrets.GITHUB_TOKEN }}\n+          script: |\n+            let fs = require('fs');\n+            let issue_number = Number(fs.readFileSync('./pr_number'));\n+            echo $issue_number\n+            await github.rest.issues.createComment({\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              issue_number: issue_number,\n+              body: 'Ignore this message. This is to test another workflow posting comment on PR number ${issue_number}.'\n+            });"}, {"filename": ".github/workflows/integration-tests.yml", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "file_content_changes": "@@ -153,6 +153,16 @@ jobs:\n           sudo nvidia-smi -i 0 --lock-gpu-clocks=1280,1280\n           python3 -m pytest -vs . --reruns 10\n           sudo nvidia-smi -i 0 -rgc\n+      - name: Save PR number\n+        env:\n+          PR_NUMBER: ${{ github.event.number }}\n+        run: |\n+          mkdir -p ./pr\n+          echo $PR_NUMBER > ./pr/pr_number\n+      - uses: actions/upload-artifact@v3\n+        with:\n+          name: pr_number\n+          path: pr/\n \n   Integration-Tests-Third-Party:\n     needs: Runner-Preparation"}]