[{"filename": "lib/Dialect/TritonGPU/Transforms/Utility.cpp", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "file_content_changes": "@@ -561,7 +561,20 @@ struct ForOpDeadArgElimination : public OpRewritePattern<scf::ForOp> {\n         markLive(nestedYieldOperand);\n         continue;\n       }\n+      if (auto nestedIf = value.getDefiningOp<scf::IfOp>()) {\n+        auto result = value.cast<OpResult>();\n+        for (scf::YieldOp nestedYieldOp :\n+             {nestedIf.thenYield(), nestedIf.elseYield()}) {\n+          Value nestedYieldOperand =\n+              nestedYieldOp.getOperand(result.getResultNumber());\n+          markLive(nestedYieldOperand);\n+        }\n+        continue;\n+      }\n       if (Operation *def = value.getDefiningOp()) {\n+        // TODO: support while ops.\n+        if (isa<scf::WhileOp>(def))\n+          return failure();\n         for (Value operand : def->getOperands())\n           markLive(operand);\n         continue;"}]