[{"filename": "lib/Analysis/AxisInfo.cpp", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "file_content_changes": "@@ -667,14 +667,10 @@ class SelectOpAxisInfoVisitor final : public AxisInfoVisitorImpl<OpTy> {\n   AxisInfo\n   getAxisInfo(OpTy op,\n               ArrayRef<const dataflow::Lattice<AxisInfo> *> operands) override {\n-    auto resTy = op.getResult().getType().template dyn_cast<RankedTensorType>();\n-    if (!resTy)\n-      return AxisInfo();\n-    auto shape = resTy.getShape();\n-    auto rank = shape.size();\n     auto condConstancy = operands[0]->getValue().getConstancy();\n     auto lhsInfo = operands[1]->getValue();\n     auto rhsInfo = operands[2]->getValue();\n+    auto rank = lhsInfo.getRank();\n \n     AxisInfo::DimVectorT contiguity, divisibility, constancy;\n     std::optional<int64_t> constantValue;"}]