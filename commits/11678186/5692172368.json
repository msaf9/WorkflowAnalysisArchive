[{"filename": "python/setup.py", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "file_content_changes": "@@ -68,7 +68,9 @@ def get_pybind11_package_info():\n def get_llvm_package_info():\n     # added statement for Apple Silicon\n     system = platform.system()\n-    arch = 'x86_64'\n+    arch = platform.machine()\n+    if arch == 'aarch64':\n+        arch = 'arm64'\n     if system == \"Darwin\":\n         system_suffix = \"apple-darwin\"\n         cpu_type = os.popen('sysctl machdep.cpu.brand_string').read()\n@@ -86,6 +88,9 @@ def get_llvm_package_info():\n     name = f'llvm+mlir-17.0.0-{arch}-{system_suffix}-{release_suffix}'\n     version = \"llvm-17.0.0-c5dede880d17\"\n     url = f\"https://github.com/ptillet/triton-llvm-releases/releases/download/{version}/{name}.tar.xz\"\n+    # FIXME: remove the following once github.com/ptillet/triton-llvm-releases has arm64 llvm releases\n+    if arch == 'arm64' and 'linux' in system_suffix:\n+        url = f\"https://github.com/acollins3/triton-llvm-releases/releases/download/{version}/{name}.tar.xz\"\n     return Package(\"llvm\", name, url, \"LLVM_INCLUDE_DIRS\", \"LLVM_LIBRARY_DIR\", \"LLVM_SYSPATH\")\n \n \n@@ -126,7 +131,10 @@ def download_and_copy_ptxas():\n     base_dir = os.path.dirname(__file__)\n     src_path = \"bin/ptxas\"\n     version = \"12.1.105\"\n-    url = f\"https://conda.anaconda.org/nvidia/label/cuda-12.1.1/linux-64/cuda-nvcc-{version}-0.tar.bz2\"\n+    arch = platform.machine()\n+    if arch == \"x86_64\":\n+        arch = \"64\"\n+    url = f\"https://conda.anaconda.org/nvidia/label/cuda-12.1.1/linux-{arch}/cuda-nvcc-{version}-0.tar.bz2\"\n     dst_prefix = os.path.join(base_dir, \"triton\")\n     dst_suffix = os.path.join(\"third_party\", \"cuda\", src_path)\n     dst_path = os.path.join(dst_prefix, dst_suffix)"}]