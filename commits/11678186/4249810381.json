[{"filename": "CMakeLists.txt", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "file_content_changes": "@@ -238,9 +238,7 @@ if(TRITON_BUILD_PYTHON_MODULE)\n   target_link_options(triton PRIVATE ${LLVM_LDFLAGS})\n endif()\n \n-if (APPLE)\n-  set(CMAKE_SHARED_LINKER_FLAGS \"${CMAKE_SHARED_LINKER_FLAGS} -Wl,-fvisibility=hidden\")\n-else()\n+if (UNIX AND NOT APPLE)\n   set(CMAKE_SHARED_LINKER_FLAGS \"${CMAKE_SHARED_LINKER_FLAGS} -Wl,--exclude-libs,ALL\")\n endif()\n "}]