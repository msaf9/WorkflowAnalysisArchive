[{"filename": ".github/workflows/integration-tests.yml", "status": "modified", "additions": 12, "deletions": 17, "changes": 29, "file_content_changes": "@@ -198,11 +198,11 @@ jobs:\n       - name: Compare artifacts\n         run: |\n           output=$(python3 python/test/tools/compare_files.py --path1 reference --path2 current --kernels python/test/kernel_comparison/kernels.yml)\n-          echo \"::set-output name=result::$output\"\n+          echo \"COMPARISON_RESULT=$output\" >> $GITHUB_STATE\n \n       - name: Fetch Run ID\n         id: get_run_id\n-        run: echo \"::set-output name=run_id::${{ github.run_id }}\"\n+        run: echo \"RUN_ID=${{ github.run_id }}\" >> $GITHUB_STATE\n \n       - name: Upload results as artifact\n         uses: actions/upload-artifact@v2\n@@ -211,21 +211,16 @@ jobs:\n           path: kernels_reference_check.txt\n \n       - name: Check output and comment on PR\n-        if: ${{ env.ADD_COMMENT == 'true' }}\n+        if: ${{ env.COMPARISON_RESULT == 'false' }}\n         uses: actions/github-script@v5\n         with:\n           script: |\n-            const runId = ${{ steps.get_run_id.outputs.run_id }};\n-            const scriptOutput = ${{ steps.script_output.outputs.result }};\n-            if (scriptOutput === 'False') {\n-              const issue_number = context.payload.pull_request.number;\n-              const message = `:warning: this PR does not produce bitwise identical kernels as the branch it's merged against. Please check artifacts for details. [Download the output file here](https://github.com/${{ github.repository }}/actions/runs/${runId}/artifacts).`;\n-              await github.rest.issues.createComment({\n-                  owner: context.repo.owner,\n-                  repo: context.repo.repo,\n-                  issue_number: issue_number,\n-                  body: message\n-              });\n-            } else {\n-              echo \"No comment posted on the PR\"\n-            }\n+            const run_id = ${{ env.RUN_ID }};\n+            const issue_number = context.payload.pull_request.number;\n+            const message = `:warning: **This PR does not produce bitwise identical kernels as the branch it's merged against.** Please check artifacts for details. [Download the output file here](https://github.com/${{ github.repository }}/actions/runs/${run_id}/artifacts).`;\n+            await github.rest.issues.createComment({\n+                owner: context.repo.owner,\n+                repo: context.repo.repo,\n+                issue_number: issue_number,\n+                body: message\n+            });"}, {"filename": "python/test/tools/compare_files.py", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "file_content_changes": "@@ -215,7 +215,8 @@ def main(args) -> bool:\n     # Dump results\n     dumpResults(results, \"kernels_reference_check.txt\")\n \n-    success = any(not result.isSuccess() for result in results)\n+    success = all(result.isSuccess() for result in results)\n+\n     if not success:\n         print(\"Failed!\")\n         return False"}]