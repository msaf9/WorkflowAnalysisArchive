[{"filename": "lib/Dialect/TritonGPU/Transforms/Combine.cpp", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "file_content_changes": "@@ -1065,7 +1065,8 @@ class BlockedToMMA : public mlir::RewritePattern {\n     auto dotOp = cast<triton::DotOp>(op);\n     // TODO: Check data-types and SM compatibility\n     auto oldRetType = dotOp.getResult().getType().cast<RankedTensorType>();\n-    if (oldRetType.getEncoding().isa<triton::gpu::MmaEncodingAttr>())\n+    if (!oldRetType.getEncoding() ||\n+        oldRetType.getEncoding().isa<triton::gpu::MmaEncodingAttr>())\n       return failure();\n \n     auto AType = dotOp.getOperand(0).getType().cast<RankedTensorType>();\n@@ -1500,7 +1501,6 @@ class TritonGPUCombineOpsPass\n     {\n       mlir::RewritePatternSet patterns(context);\n       patterns.add<UpdateMMAVersionMinorForVolta>(context, mmaToUpdate);\n-      patterns.add<SimplifyConversion>(context);\n       mlir::GreedyRewriteConfig config;\n       config.useTopDownTraversal = true;\n "}]