[{"filename": "lib/Conversion/TritonGPUToLLVM/ConvertLayoutOpToLLVM.cpp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "file_content_changes": "@@ -496,6 +496,9 @@ struct ConvertLayoutOpConversion\n           srcTy.getElementType());\n     } else if (isSrcMmaV1 || isDstMmaV1) {\n       repShape = getScratchConfigForCvtLayout(op, inVec, outVec, true);\n+      auto maxVec = std::max(inVec, outVec);\n+      sharedLayout = triton::gpu::SharedEncodingAttr::get(\n+          getContext(), maxVec, 1, repShape[0], getOrder(dstLayout));\n     } else {\n       repShape = getScratchConfigForCvtLayout(op, inVec, outVec, false);\n       auto maxVec = std::max(inVec, outVec);"}]