[{"filename": "lib/Conversion/TritonGPUToLLVM/TritonGPUToLLVM.cpp", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "file_content_changes": "@@ -3828,7 +3828,8 @@ DotOpConversion::convertMMA16816(triton::DotOp op, OpAdaptor adaptor,\n     loadedA = adaptor.a();\n     loadedB = adaptor.b();\n   } else {\n-    SharedMemoryObject smemA = V(loc, adaptor.a(), rewriter);\n+    SharedMemoryObject smemA =\n+        getSharedMemoryObjectFromStruct(loc, adaptor.a(), rewriter);\n     SharedMemoryObject smemB =\n         getSharedMemoryObjectFromStruct(loc, adaptor.b(), rewriter);\n     loadedA = mmaHelper.loadA(op.a(), smemA);\n@@ -4384,11 +4385,11 @@ DotOpConversion::convertFMADot(triton::DotOp op, OpAdaptor adaptor,\n   Type f32PtrTy = ptr_ty(f32_ty);\n   SmallVector<Value> aPtrs(aNumPtr);\n   for (int i = 0; i < aNumPtr; ++i)\n-    aPtrs[i] = gep(f32PtrTy, adaptor.a(), aOff[i]);\n+    aPtrs[i] = gep(f32PtrTy, aSmem.base, aOff[i]);\n \n   SmallVector<Value> bPtrs(bNumPtr);\n   for (int i = 0; i < bNumPtr; ++i)\n-    bPtrs[i] = gep(f32PtrTy, adaptor.b(), bOff[i]);\n+    bPtrs[i] = gep(f32PtrTy, bSmem.base, bOff[i]);\n \n   ValueTable has, hbs;\n   auto cc = getElementsFromStruct(loc, adaptor.c(), rewriter);"}]