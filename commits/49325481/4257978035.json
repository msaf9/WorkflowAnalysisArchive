[{"filename": ".github/workflows/torchinductor/scripts/install_torchinductor.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "file_content_changes": "@@ -28,21 +28,21 @@ pip3 install expecttest\n pip3 install pyyaml\n git clone https://github.com/pytorch/benchmark.git\n cd benchmark || exit\n-python install.py\n+python3 install.py\n cd ..\n \n # timm\n git clone https://github.com/huggingface/pytorch-image-models.git\n cd pytorch-image-models || exit\n-pip install -e .\n+pip3 install -e .\n cd ..\n \n # build our own triton\n cd \"$ROOT\" || exit\n cd python || exit\n rm -rf build\n pip3 install -e .\n-pip uninstall pytorch-triton -y\n+pip3 uninstall pytorch-triton -y\n \n # clean up cache\n rm -rf /tmp/torchinductor_root/"}, {"filename": ".github/workflows/torchinductor/scripts/install_triton.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "file_content_changes": "@@ -8,9 +8,10 @@ source ./.github/workflows/torchinductor/scripts/common.sh\n \n # build our own triton\n cd python || exit\n+pip3 install --pre torch torchtext torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/nightly/cu118\n rm -rf build\n pip3 install -e .\n-pip uninstall pytorch-triton -y\n+pip3 uninstall pytorch-triton -y\n \n # clean up cache\n rm -rf /tmp/torchinductor_root/"}, {"filename": ".github/workflows/torchinductor/scripts/run_torchinductor_acc.sh", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "file_content_changes": "@@ -13,20 +13,20 @@ mkdir -p \"$TEST_REPORTS_DIR\"\n \n for model in \"${MODELS[@]}\"; do\n   echo \"Running accuracy test for $model\"\n-  python benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --device cuda \\\n+  python3 benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --device cuda \\\n     --output \"$TEST_REPORTS_DIR\"/inference_\"$model\".csv\n-  python benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --training --amp --device cuda \\\n+  python3 benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --training --amp --device cuda \\\n     --output \"$TEST_REPORTS_DIR\"/training_\"$model\".csv\n-  python benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --dynamic-shapes --device cuda \\\n+  python3 benchmarks/dynamo/\"$model\".py --ci --accuracy --timing --explain --inductor --dynamic-shapes --device cuda \\\n     --output \"$TEST_REPORTS_DIR\"/dynamic_shapes_\"$model\".csv\n done\n \n cd \"$ROOT\" || exit\n for model in \"${MODELS[@]}\"; do\n   echo \"Checking accuracy test for $model\"\n-  python \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/inference_\"$model\".csv\n-  python \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/training_\"$model\".csv\n-  python \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/dynamic_shapes_\"$model\".csv\n+  python3 \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/inference_\"$model\".csv\n+  python3 \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/training_\"$model\".csv\n+  python3 \"$INDUCTOR\"/scripts/check_acc.py \"$TEST_REPORTS_DIR\"/dynamic_shapes_\"$model\".csv\n done\n \n # go back to where we started"}, {"filename": ".github/workflows/torchinductor/scripts/run_torchinductor_perf.sh", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "file_content_changes": "@@ -13,14 +13,14 @@ mkdir -p \"$TEST_REPORTS_DIR\"\n \n for model in \"${MODELS[@]}\"; do\n   echo \"Running performance test for $model\"\n-  python benchmarks/dynamo/\"$model\".py --ci --training --performance --disable-cudagraphs\\\n+  python3 benchmarks/dynamo/\"$model\".py --ci --training --performance --disable-cudagraphs\\\n     --device cuda --inductor --amp --output \"$TEST_REPORTS_DIR\"/\"$model\".csv\n done\n \n cd \"$ROOT\" || exit\n for model in \"${MODELS[@]}\"; do\n   echo \"Checking performance test for $model\"\n-  python \"$INDUCTOR\"/scripts/check_perf.py --new \"$TEST_REPORTS_DIR\"/\"$model\".csv --baseline \"$INDUCTOR\"/data/\"$model\".csv\n+  python3 \"$INDUCTOR\"/scripts/check_perf.py --new \"$TEST_REPORTS_DIR\"/\"$model\".csv --baseline \"$INDUCTOR\"/data/\"$model\".csv\n done\n \n # go back to where we started"}]