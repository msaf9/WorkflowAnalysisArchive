[{"filename": "python/setup.py", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "file_content_changes": "@@ -10,7 +10,6 @@\n import urllib.request\n from distutils.version import LooseVersion\n from typing import NamedTuple\n-\n from setuptools import Extension, setup\n from setuptools.command.build_ext import build_ext\n \n@@ -52,7 +51,10 @@ def get_pybind11_package_info():\n def get_llvm_package_info():\n     # download if nothing is installed\n     system = platform.system()\n-    system_suffix = {\"Linux\": \"linux-gnu-centos7\", \"Darwin\": \"apple-darwin\"}[system]\n+    vglibc = tuple(map(int, platform.libc_ver()[1].split('.')))\n+    vglibc = vglibc[0]*100 + vglibc[1]\n+    linux_suffix = 'ubuntu-18.04' if vglibc > 217 else 'centos7'\n+    system_suffix = {\"Linux\": \"linux-gnu-{}\".format(linux_suffix), \"Darwin\": \"apple-darwin\"}[system]\n     use_assert_enabled_llvm = check_env_flag(\"TRITON_USE_ASSERT_ENABLED_LLVM\", \"False\")\n     release_suffix = \"assert\" if use_assert_enabled_llvm else \"release\"\n     name = 'llvm+mlir-14.0.6-x86_64-{}-{}'.format(system_suffix, release_suffix)"}]