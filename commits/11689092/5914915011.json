[{"filename": "lib/Dialect/TritonGPU/Transforms/AccelerateMatmul.cpp", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "file_content_changes": "@@ -43,17 +43,6 @@ static int getMMAVersionSafe(int computeCapability, tt::DotOp op) {\n   return 0;\n }\n \n-SmallVector<int64_t, 2> mmaVersionToShapePerWarp(int version) {\n-  if (version == 1)\n-    return {16, 16};\n-  else if (version == 2)\n-    return {16, 8};\n-  else {\n-    assert(false && \"version not supported\");\n-    return {0, 0};\n-  }\n-}\n-\n SmallVector<unsigned, 2>\n warpsPerTileV2(tt::DotOp dotOp, const ArrayRef<int64_t> shape, int numWarps) {\n   auto filter = [&dotOp](Operation *op) {\n@@ -66,13 +55,11 @@ warpsPerTileV2(tt::DotOp dotOp, const ArrayRef<int64_t> shape, int numWarps) {\n \n   SmallVector<unsigned, 2> ret = {1, 1};\n   SmallVector<int64_t, 2> shapePerWarp = {16, 8};\n-  bool changed = false;\n   // TODO (@daadaada): double-check.\n   // original logic in\n   // https://github.com/openai/triton/blob/master/lib/codegen/analysis/layout.cc#L252\n   // seems buggy for shape = [32, 16] ?\n   do {\n-    changed = false;\n     if (ret[0] * ret[1] >= numWarps)\n       break;\n     if (shape[0] / shapePerWarp[0] / ret[0] >="}]